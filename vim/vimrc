">>> OPTIONS >>>
set nocompatible
">>> Search
set hlsearch                "Search Highlighting
set incsearch               "Increamental Search
set ignorecase              "Ignore case while searching
set smartcase               "Auto Case sensitive
">>> Indentation
set autoindent              "New lines inherit the indentation of previous lines.
set expandtab               "Convert Tabs into Spaces
set tabstop=4               "Indent using four spaces.
set smarttab                "Insert “tabstop” number of spaces when the “tab” key is pressed.
set shiftwidth=4            "When shifting, indent using four spaces
set shiftround              "When shifting lines, round the indentation to the nearest multiple of “shiftwidth.”
filetype indent on			"Indent based on file
"set smartindent
">>> Performance
"set complete-=1            "Limit the files searched for auto-completes.
"set lazydraw               "Don’t update screen during macro and script execution.
">>> Text Rendering
set encoding=utf-8          "Use an encoding that supports unicode.
set linebreak               "Avoid wrapping a line in the middle of a word.
syntax enable               "Syantax Highlighting
set wrap                    "Enable line wrapping.
set display+=lastline       "Always try to show a paragraph’s last line.
set scrolloff=1             "The number of screen lines to keep above and below the cursor
set sidescrolloff=5         "The number of screen columns to keep to the left and right of the cursor.
"set spell                  "spell Check
">>> UI
set laststatus=2            "Alway show statusbar
set ruler                   "Line No. & Column No.(Cursor Position)
set wildmenu                "Display command line’s tab complete options as a menu.
set relativenumber          "Show line number on the current line and relative numbers on all other lines
set number          "Show line number on the current line
set mouse=a                 "Enable mouse for scrolling and resizing
set cursorline              "Highlight the line currently under cursor
set tabpagemax=50           "Maximum number of tab pages that can be opened from the command line.
set background=dark         "Use colors that suit a dark background
set showmode                "Show mode on statusbar
">>> Code Folding
set foldmethod=indent       "Fold based on indention levels.
set foldnestmax=3           "Only fold up to three nested levels.
"set nofoldenable            "Disable folding by default.
">>> Misc
set nobackup                "Disable Backup Files
set nowritebackup           "Disable Backup
set noswapfile              "Diasble Swap Files
set cmdheight=2             "Commad Line height
set autoread                "Automatically re-read files if unmodified inside Vim
set backspace=indent,eol,start "Allow backspacing over indention, line breaks and insertion start.
set backupdir=~/.cache/vim: "Directory to store backup files
set dir=~/.cache/vim        "Directory to store swap files.
set formatoptions+=j        "Delete comment characters when joining lines.
set history=1000            "Increase the undo limit
set shell=/bin/sh           "Shell to execute commad
set hidden                  "Hide files in the background instead of closing them.
set showmatch               "Use % to jump between matching brackets
set autowrite               "Save when switching between 
set ttyfast                 "More Chars to screen for redrawing
set showcmd
set list                    "show hidden characters
set listchars=tab:,trail:,extends:>,nbsp:#,precedes:<
"set paste                   "Paste from clipboard
set updatetime=300
set splitbelow
set splitright
"set termguicolors
set background=dark
"set shortmess+=c
">>> ALACRITTY
if !has('nvim')
  set ttymouse=sgr            "Termianl Mouse Supoort
  set signcolumn=number
endif
">>> COLORSCHEME
colorscheme monokai
"<<< OPTIONS <<<

">>> PLUGINS >>>
" >>> NerdTree
let g:NERDTreeGitStatusWithFlags = 1
let g:NERDTreeChDirMode=2
let g:NERDTreeIgnore=['\.rbc$', '\~$', '\.pyc$', '\.db$', '\.sqlite$', '__pycache__', 'node_modules']
let g:NERDTreeSortOrder=['^__\.py$', '\/$', '*', '\.swp$', '\.bak$', '\~$']
let g:NERDTreeShowBookmarks=1
let g:nerdtree_tabs_focus_on_files=1
let g:NERDTreeMapOpenInTabSilent = '<RightMouse>'
set wildignore+=*/tmp/*,*.so,*.swp,*.zip,*.pyc,*.db,*.sqlite
">>> SimplyFold
let g:SimpylFold_docstring_preview=1
let g:SimpylFold_fold_docstring=1
let b:SimpylFold_fold_docstring=1
let g:SimpylFold_fold_import=1
let b:SimpylFold_fold_import=1
let g:SimpylFold_fold_blank=0
let b:SimpylFold_fold_blank=0
">>> ALE
let g:ale_linter={
	\ 'python': ['flake8', 'pylint']}
let g:ale_fixers = {'python':['nayvy#ale_fixer', 'autopep8', 'isort']}
">>> FZF
let g:fzf_action = {
  \ 'ctrl-t': 'tab split',
  \ 'ctrl-h': 'split',
  \ 'ctrl-v': 'vsplit' }

let g:fzf_colors =
\ { 'fg':      ['fg', 'Normal'],
  \ 'bg':      ['bg', 'Normal'],
  \ 'hl':      ['fg', 'Comment'],
  \ 'fg+':     ['fg', 'CursorLine', 'CursorColumn', 'Normal'],
  \ 'bg+':     ['bg', 'CursorLine', 'CursorColumn'],
  \ 'hl+':     ['fg', 'Statement'],
  \ 'info':    ['fg', 'PreProc'],
  \ 'border':  ['fg', 'Ignore'],
  \ 'prompt':  ['fg', 'Conditional'],
  \ 'pointer': ['fg', 'Exception'],
  \ 'marker':  ['fg', 'Keyword'],
  \ 'spinner': ['fg', 'Label'],
  \ 'header':  ['fg', 'Comment'] }

" See `man fzf-tmux` for available options
if exists('$TMUX')
  let g:fzf_layout = { 'tmux': '-p90%,60%' }
else
  let g:fzf_layout = { 'window': { 'width': 0.9, 'height': 0.6 } }
endif
">>> Rainbow
let g:rainbow_active = 1
">>> Polyglot
"let g:polyglot_disabled = ['autoindent']
let g:polyglot_disabled = ['sensible']
">>> AirLine
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#formatter = 'unique_tail_improved'
let g:airline_powerline_fonts = 1
"let g:airline_statusline_ontop = 1
let g:airline#extensions#whitespace#enabled = 0
let g:airline_theme='badwolf'
">>> Deoplete
let g:deoplete#enable_at_startup = 1

">>> Vim-Plug
call plug#begin('~/.vim/plugged')

Plug 'scrooloose/nerdtree'                          "NERDtree
Plug 'tmhedberg/SimpylFold'							"Code Follding
Plug 'dense-analysis/ale'							"SyantaxChecking
Plug 'nvie/vim-flake8'								"PEP-8 Python Syntax
Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }	"Fuzzy Finder
Plug 'tpope/vim-fugitive'							"Git
Plug 'luochen1990/rainbow'						    "Rainbow Brackets
Plug 'tpope/vim-surround'							"Surround
Plug 'relastle/vim-nayvy'							"Python Fixer
Plug 'preservim/tagbar'								"Tagbar
Plug 'Shougo/neopairs.vim'                          "AutoComplete Brackets&Quotes
Plug 'sheerun/vim-polyglot'							"Language Pack
Plug 'jeetsukumaran/vim-buffergator'				"Buffer Window
Plug 'vim-airline/vim-airline'                      "Airline Status
Plug 'vim-airline/vim-airline-themes'               "Airline Status Themes
Plug 'preservim/nerdcommenter'                      "NERDCommentator
Plug 'Shougo/deoplete.nvim'                         "Deoplete
Plug 'roxma/nvim-yarp'
Plug 'roxma/vim-hug-neovim-rpc'
Plug 'xavierd/clang_complete'                       "Deoplete Clang
Plug 'deoplete-plugins/deoplete-go'                 "Deoplete Go
Plug 'deoplete-plugins/deoplete-jedi'               "Deoplete Python
Plug 'SevereOverfl0w/deoplete-github'               "Deoplete Git

call plug#end()
"<<< PLUGINS <<<

">>> KEYBINDS >>>
">>> NERDtree
nmap <F10> :NERDTreeToggle<CR>
">>> FZF
nnoremap <silent> <Leader>p :FZF<CR>
">>> Splits
" navigate split screens easily
nmap <silent> <c-k> :wincmd k<CR>
nmap <silent> <c-j> :wincmd j<CR>
nmap <silent> <c-h> :wincmd h<CR>
nmap <silent> <c-l> :wincmd l<CR>
">>> Buffers
nnoremap <C-b>c :BufCurOnly<CR>
nnoremap <C-b>k :bd<CR>
nnoremap <C-b>n :bn<CR>
nnoremap <C-b>p :bp<CR>
">>> Git Fugitive
nnoremap <C-g>b :call <SID>ToggleBlame()<CR>
nnoremap <C-g>a :Git add %<CR>
nnoremap <C-g>c :Git commit %<CR>
nnoremap <C-g>s :Gstatus<CR>
nnoremap <C-g>d :Gvdiff<CR>
nnoremap <C-g>i :Gedit :0<CR>
">>> ALE
nnoremap <F5> :ALEFix<CR>
nmap <silent> <C-k> <Plug>(ale_previous_wrap)
nmap <silent> <C-j> <Plug>(ale_next_wrap)
nnoremap <leader><F6> :ALEGoToDefinition<CR>
nnoremap <leader><F7> :ALEHover<CR>
">>> NayVy
nnoremap <leader><F8> :NayvyImportFZF<CR>
nnoremap <F8> :NayvyImport<CR>
nnoremap <leader><F9> :NayvyTestGenerateFZF<CR>
nnoremap <F9> :NayvyTestGenerate<CR>
">>> Tagbar
nmap <leader><F4> :TagbarToggle<CR>
">>> Ex
nnoremap <silent> <esc> :noh<cr><esc>
">>> Deoplete
" use tab to forward cycle
inoremap <silent><expr><tab> pumvisible() ? "\<c-n>" : "\<tab>"
" use tab to backward cycle
inoremap <silent><expr><s-tab> pumvisible() ? "\<c-p>" : "\<s-tab>"
" Close the documentation window when completion is done
autocmd InsertLeave,CompleteDone * if pumvisible() == 0 | pclose | endif
"<<< KEYBINDS <<<

">>> EX >>>
">>> Buffers
command! BufCurOnly execute '%bdelete|edit#|bdelete#'
">>> Git
function! s:ToggleBlame()
    if &l:filetype ==# 'fugitiveblame'
        close
    else
        Gblame
    endif
endfunction
">>> NayVy
">>> Deoplete
call deoplete#custom#option({
\ 'auto_complete_delay': 20,
\ 'auto_complete': v:true,
\ 'auto_complete_popup': "auto",
\ 'smart_case': v:true,
\ })
"<<< Ex <<<
